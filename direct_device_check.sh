#!/bin/bash

echo "๐ ูุญุต ูุจุงุดุฑ ููุฃุฌูุฒุฉ ุงููุชุตูุฉ"
echo "="*45

echo "๐ฑ ูุฐุง ุงููุญุต ุณูุฎุจุฑูุง:"
echo "โข ูู ูุชุตู ุจู WiFi ุงูุขู"
echo "โข ูู ุงูุฃุทูุงู ุฎุงุฑุฌ ุงูุจูุชุ"
echo "โข ูู ุฃุฌูุฒุชูู ูุทูุฃุฉุ"
echo ""
echo "โณ ุงููุญุต ุงูุขู... (30-60 ุซุงููุฉ)"

# ูุญุต ุณุฑูุน ูููุทุงู
nmap -sn 192.168.1.1-200 --max-rate=150 > direct_scan.txt 2>&1

echo ""
echo "="*60
echo "๐ ุงููุชุงุฆุฌ ุงููุจุงุดุฑุฉ:"
echo "="*60

# ุนุฑุถ ุงููุชุงุฆุฌ
if [ -f direct_scan.txt ]; then
    # ุนุฏุฏ ุงูุฃุฌูุฒุฉ
    DEVICE_COUNT=$(grep -c "Nmap scan report" direct_scan.txt 2>/dev/null || echo "0")
    
    if [ "$DEVICE_COUNT" -gt "0" ]; then
        echo "โ ุชู ุงูุนุซูุฑ ุนูู $DEVICE_COUNT ุฌูุงุฒ ูุชุตู:"
        echo ""
        grep -E "Nmap scan report|Host is up" direct_scan.txt | while read line; do
            echo "   ๐ฑ $line"
        done
        echo ""
        echo "๐ ููุชุงุฒ! ูุฐุง ูุนูู ุฃู ุงูุดุจูุฉ ุชุนูู ูููุงู ุฃุฌูุฒุฉ ูุชุตูุฉ"
    else
        echo "โ ูู ูุชู ุงูุนุซูุฑ ุนูู ุฃุฌูุฒุฉ ูุชุตูุฉ"
        echo ""
        echo "๐ก ูุนูู ุฃุญุฏ ูุฐุง:"
        echo "   1. ุงูุฃุทูุงู ุฎุงุฑุฌ ุงูุจูุช ุฃู ูู ุงูุฎุงุฑุฌ"
        echo "   2. ุฃุฌูุฒุชูู ูุทูุฃุฉ ุฃู ูู ูุถุน ุงูุทูุฑุงู"
        echo "   3. ูุณุชุฎุฏููู ุจูุงูุงุช ุงููุงุชู ุงููุญููู"
        echo ""
        echo "โ ุทูุจ ูู ุฃุทูุงูู:"
        echo "   โข ูุชุญ WiFi ุนูู ุฃุฌูุฒุชูู"
        echo "   โข ุงูุชุฃูุฏ ูู ุงูุงุชุตุงู ุจุงูุดุจูุฉ"
        echo "   โข ูุชุญ ุชุทุจูู ุนูู ุงูุฌูุงุฒ"
    fi
else
    echo "โ ูุดู ูู ุงููุญุต"
fi

echo "="*60
echo "๐พ ุงูุชูุงุตูู ูู: direct_scan.txt"
echo "="*60
